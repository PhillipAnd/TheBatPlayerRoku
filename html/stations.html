<head>
  <title>The Bat Player Setup</title>
  <link rel="shortcut icon" href="http://thebatplayer.fm/favicon.ico" type="image/x-icon" />

  <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0-alpha.4/handlebars.min.js"></script>
  <script src="http://api.thebatplayer.fm/client/js/analytics.js"></script>
</head>

<style>
  span.ui-helper-hidden-accessible {
    display: none;
  }
</style>

<body>

  <nav class="navbar navbar-inverse" role="navigation">

    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
          <span class="sr-only">Toggle navigation</span>
          <i class="icon-cog"></i>
        </button>
        <a class="navbar-brand" href="/">The Bat Player</a>
      </div>

    </div>
    <!-- /.container -->
  </nav>





  <div class="subnavbar">

    <div class="subnavbar-inner">

      <div class="container">

        <div class="subnav">
          <ul class="mainnav">

            <li class="">
              <a href="./index.html">
                <i class="fa fa-home"></i>
                <span>Home</span>
              </a>
            </li>

            <li class="active">
              <a href="./services.html">
                <i class="fa fa-music"></i>
                <span>Stations</span>
              </a>
            </li>

            <li>
              <a href="./services.html">
                <i class="fa fa-cloud"></i>
                <span>Services</span>
              </a>
            </li>

            <li>
              <a href="./lighting.html">
                <i class="fa fa-lightbulb-o"></i>
                <span>Lighting</span>
              </a>
            </li>

            <li class="" id="hue-button">
              <a href="http://thebatplayer.fm/help.php" target="_blank">
                <i class="fa fa-question-circle"></i>
                <span>Help</span>
              </a>
            </li>

          </ul>
        </div>
        <!-- /.subnav-collapse -->

      </div>
      <!-- /container -->

    </div>
    <!-- /subnavbar-inner -->

  </div>
  <!-- /subnavbar -->

  <div class="main">
    <div class="container">
      <div class="widget stacked">

        <div class="widget-header">
          <i class="icon-file"></i> Stations Configuration
        </div>
        <!-- /widget-header -->

        <div class="widget-content">

          <form id="stations-form">
            <table class="table" id="stations-table">
              <thead>
                <tr>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td>
                    <button class="btn btn-primary add-station-button">Add New Station <i class="fa fa-plus-square-o"></i>
                  </td>
                </tr>
                <tr>
                  <th></th>
                  <th>Name</th>
                  <th>Provider</th>
                  <th>Stream Url</th>
                  <th>Stream Type</th>
                  <th>Image Url</th>
                  <th></th>
                </tr>
              </thead>
              <tbody id="stations-listing"></tbody>
              <tr>
                <td></td>
                <td>
                  <button class="btn btn-primary add-station-button">Add New Station <i class="fa fa-plus-square-o"></i>
                  </button>
                </td>
                <td>
                  <button class="btn btn-success save-button">Save Stations<i class="fa fa-check-circle"></i>
                  </button>
                </td>
              </tr>
            </table>
          </form>
        </div>
      </div>
    </div>
  </div>


  <script id="station-template" type="text/x-handlebars-template">
    {{#each stations}}
    <tr class="single-station">
      <td>
        <center><i class="fa fa-trash-o fa-2x delete"></i>
        </center>
      </td>
      <td>
        <input name="name-{{@index}}" placeholder="Station Name" value="{{ name }}" class="station-name form-control" required>
      </td>
      <td>
        <input name="provider-{{@index}}" placeholder="Station Provider" value="{{ provider }}" class="station-provider form-control" required>
      </td>
      <td>
        <input name="stream-{{@index}}" placeholder="Station Stream URL" value="{{ stream }}" class="station-stream form-control stream-field" required>
      </td>
      <td>
        <select name="station-format-{{@index}}" id="station-format" class="station-format form-control">
          <option class="station-format form-control" value="mp3" {{isSelected "mp3" format}}>MP3</option>
          <option class="station-format form-control" value="es.aac-adts" {{isSelected "es.aac-adts" format}}>AAC</option>
        </select>
      </td>
      <td>
        <input name="image-{{@index}}" placeholder="Station Image URL" value="{{ image }}" class="station-image form-control image-field" required>
      </td>
      <td><i class="fa fa-arrows-v"></i>
      </td>
    </tr>
    {{/each}}
  </script>

  <link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.css" />
  <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
  <link href="http://thebatplayer.fm/theme/css/base-admin-3.css" rel="stylesheet">
  <link href="http://thebatplayer.fm/theme/js/plugins/msgbox/jquery.msgbox.css" rel="stylesheet">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="//cdnjs.cloudflare.com/ajax/libs/qtip2/2.2.0/jquery.qtip.min.css" rel="stylesheet">
  <link rel="stylesheet" href="http://thebatplayer.fm/theme/js/plugins/msgGrowl/css/msgGrowl.css" type="text/css" charset="utf-8" />
  <link href="http://thebatplayer.fm/theme/css/custom.css" rel="stylesheet">
  <link href="http://thebatplayer.fm/client/js/smartwizard/smart_wizard.css" rel="stylesheet">
  <link href="http://thebatplayer.fm/client/css/client.css" rel="stylesheet">


  <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/qtip2/2.2.0/jquery.qtip.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
  <script src="http://thebatplayer.fm/theme/js/plugins/validate/jquery.validate.js"></script>
  <script src="http://thebatplayer.fm/theme/js/plugins/msgGrowl/js/msgGrowl.min.js"></script>
  <script src="http://thebatplayer.fm/theme/js/plugins/msgbox/jquery.msgbox.js"></script>
  <script src="http://thebatplayer.fm/client/js/smartwizard/jquery.smartWizard.js"></script>

  <script src="http://thebatplayer.fm/client/js/stations.js"></script>
  <script src="http://thebatplayer.fm/client/js/admin.js"></script>
  <script src="http://thebatplayer.fm/client/js/addstation.js"></script>

  <script>
    addAction("Web configuration stations page loaded.");
  </script>

  <!-- New Station Wizard -->
  <div id="wizard" class="swMain" style="display: none">

    <div>
      <h2 class="StepTitle">Search</h2>

      <h4>
        You have the option of adding stations by finding stations you enjoy online, or searching for new ones.
      </h4>
      <br>

      <div class="ui-widget">
        <ol>
          <li>
            <h4>If you know what type of station you want, or a name of a station, search for it here.</h4>
          </li>
          <p>
            <p>Search:
              <input placeholder="classic rock or Sanctuary Radio" id="wizard-shoutcast-search" style="width:360px;"><img id="activity-spinner-search" src="http://thebatplayer.fm/images/ajax-loader.gif" style="display:none">
            </p>
          </p>

          <li>
            <h4>If you know of a specific station and have a link to it's Playlist (<a href="http://en.wikipedia.org/wiki/PLS_%28file_format%29">pls</a> or <a href="http://en.wikipedia.org/wiki/M3U"> m3u</a>) file, paste it in here.</h4>
          </li>
          <p>Link to PLS or M3U Playlist file:
            <input placeholder="http://rockradio.biz/station.pls" id="wizard-playlist-link" style="width:300px;"><img id="activity-spinner-playlist" src="http://thebatplayer.fm/images/ajax-loader.gif" style="display:none">
          </p>

          <li>
            <h4>If you know the actual stream URL paste it in here.</h4>
          </li>
          <p>Link to audio stream:
            <input placeholder="http://rockradio.biz:6699" id="wizard-step-one-stream-link" style="width:300px;"><img id="activity-spinner-stream" src="http://thebatplayer.fm/images/ajax-loader.gif" style="display:none">
          </p>
          <br>
          <br>
        </ol>
      </div>

    </div>
    <div>
      <h2 class="StepTitle">Edit</h2>

      <p><strong>Hints:</strong>
        <ul>
          <li>Edit the following details to your liking, as it's how it'll be displayed on The Bat Player. Shorten the station name if it looks a bit long.</li>
          <li>The <strong>provider</strong> is the name of the group who creates the Station. Just use the station name if you don't know/care what it is.</li>
          <li>If you don't know the <strong>format</strong> of the station, it's probably MP3. But some stations give the option to stream using the AAC format. Come back to change it if one or the other doesn't work.</li>
          <li>Find a suitable image for the station, a nice graphic to represent the station. It can be anything you like that you find on the web.</li>
          <li>Some stream URLs will automatically put a slash <strong>/</strong> at the end of the url, and some won't. Some need them and some don't. If you find your audio doesn't play come back and experiment.</li>
        </ul>
      </p>

      <form id="stations-form">
        <table class="table" id="stations-table">

          <tr>
            <td>
              <h5>Station Name</h5>
              <input id="station-wizard-name" name="name-{{@index}}" placeholder="Station Name" value="" class="station-name form-control" required>
            </td>
            <td>
              <h5>Station Provider</h5>
              <input id="station-wizard-provider" name="provider-{{@index}}" placeholder="Station Provider" value="" class="station-provider form-control" required>
            </td>
            <td>
              <h5>Format</h5>
              <select id="station-wizard-format" name="format-{{@index}}" class="form-control" style="width:100%">
                <option value="mp3">MP3</option>
                <option value="es.aac-adts">AAC</option>
            </td>
          </tr>

          <tr>
            <td>
              <h5>Stream URL</h5>
              <input id="station-wizard-stream" name="stream-{{@index}}" placeholder="Station Stream URL" value="" class="station-stream form-control stream-field" required>
            </td>

            <td>
              <h5>Logo URL</h5>
              <input id="station-wizard-image" name="image-{{@index}}" placeholder="Station Image URL" value="http://cdn.thebatplayer.fm/assets/icon-hd.png" class="form-control image-field" required>
            </td>
            </td>
          </tr>

        </table>
      </form>
      <center>
        <img id="station-logo-display" src="" height="130px">
      </center>
    </div>
    <div>
      <h2 class="StepTitle">Preview</h2>
      <center>
        <h1 id="wizard-preview-title">Title Goes Here</h1>
        <h4 id="wizard-preview-format">Format Goes Here</h4>

        <img id="wizard-preview-image" src="" width="200px">
        <br>
        <audio controls style="width:200px" id="wizard-preview-audio">
        </audio>
      </center>
      <hr>
      <h4>
        The above is a preview of the station you're about to add.  Verify the name, image, and audio is what you expect.  When you're ready hit "Add Station ".
        <br><small>Note: Some audio streams may not be supported by your browser.  Just because you can't hit Play above doesn't mean your Roku can't play it.  However, if you find that the station can't play on the roku you might want to visit the web site of the station to verify the stream url.</small>
      </h4>

    </div>

  </div>